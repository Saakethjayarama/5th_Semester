Expr: Computations

Shell can check, whether an integer is greater than another, but it does not have any computing features at all.

It has to rely on the external expr command for this purpose.

This cmd combine4s 2 fns in one. - performs arithmetic op on integers - manipulates trings

# computations

```
x=3
y=5
expr 3 + 5
8
expr $x - $y
-2
expr 3 \* 5
15
expr $y / $x
1
expr 13 % 5
3
z=`exprt $x + $y`
echo $z
x=5
x=expr $x+1
echo $x
6

```

# for loop

- shell for loop differs in structures from the ones used in other programming languages.

- There is no 3 part structure as used in C language.
- Unlike while and until, for does not test a condition, but, instrea uses a list.
- syntax

  ```
  for variable in list
  do
      commands
  done

  ```

- loop body uses the key words do and done. But the additional parameters here are variable and list.
- Each whitespace separated word in list is assigned to variable in turn, and commands are executed until list is exhausted.

```
for file in f1 f2 f3 f4
do
    cp $file ${file}.bak
    echo $file copied to $file.bak
done
```

# Possible sources of list

- The list can consist of practically any of the xprsns that the shell understands and processes.
- There are 4 sources of list.
  1. List from variables
  2. List from command substitution.
  3. List from wild cards.
  4. List from positional parameters.

```
# List from variables

for var in $PATH $HOME
    do
        echo "$var"
    done

# List from command substitution
# you can also use cmd substitution to create the list.
# The following for cmd line picks up its list from the file clist.
for file in `cat list`
# this method is most suitable when the list is large and donot consider it practicable to specify its contents individually.

for file in `cat list`
    do
        echo "file is $file"
    done

# List from wild cards
# When the list consists of wild cards the shell interprets them as filenames.
# for is then indispensible for making substitutions in a set of files.

for file in *html *.htm
do
    echo "flle selected $file"
done

# List from positional parameters
# for is also used to process positional parameters that are assigned from cmd line args. The script scans the files repeatedly for each argument.
It uses shell parameter $@ to represent all the cmd line arguments.

for pattern in "$@"
    do
        grep "$pattern" emp.lst || echo "Pattern $pattern not found"
    done
```

# while loop

- Loops let you perform a set of instructions repeatedly.
- shell features 3 types of loops while, until, for
- It repeatedly performs a set of instructions until the control cmd returns a true exit status.
- syntax
  ```
  while condition is true
  do
      commands
  done
  ```
- example

  ```
  answer = y
  while ["answer" = "y"]
  do
      echo "Enter code and desc: \c" > /dev/tty
      read code desc
      echo "$code | $desc" >> newlist
      echo "Enter more (y/n) ? \c" > /dev/tty
      read anymore
      case $anymore in
          y*|Y*) answer=y;;
          n*|N*) answer=n;;
          *) answer=y;;
      esac
  done
  ```
