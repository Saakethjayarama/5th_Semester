# Functions of shell

- Shell issues a prompt and waits for the users to enter a command
- After the command is entered shell scans the command line for meta characters and expands abbreviations to recreate a simplified command line.
- It passes the command line to the kernel for execution.
- Shell waits for the command to complete and normally cannot do any work while the command is running.
- After the command execution is complete the prompt re appears and the shell returns to its waiting state to start the next cycle.
- The shell may be a bourne shell or ksh or csh.

```
    to check which shell
    echo $SHELL
```

# wild card matching

- \* -> matches all characters
- ? -> matches single characters ex [ijk] matches single characters
- [x-z] mathces x to z
- [!ijk] not i, j, k
- [!x-z] not x to z

# Pipes

- Output of one command to input of other command cmd1 | cmd2

# Tee

- Tee is an exteranl command and it is not a feature of the shell.
- It saves on copy in a file and writes the other to standard output.

# Command substitution

- echo `date`
  executes date command and echo its op

# Shell programming

## Shell scripts

- When a group of commands have to be executed regularly they should be stored in a file. And the file itself is executed as a shell script or shell program.
- As a convention we use .sh extension to indicate a shell script.
- Shell scripts are executed in separate child shell process and this sub shell need not be of the same type as ur login shell.

  ```
  # ab.sh this is comment

  pwd
  who
  ls
  echo $1
  echo $0
  echo $#
  ```

  sh ab.sh
  ./ab.sh

- echo "Todays date: `date`"

## read: Making scripts interactive.

- read statement is the shell's internal tool for taking input from the user that is making scripts interactive.

```
$1, $2 are positional parameters
$# - no of arguments
$0 is name of the executed command
$$ is pid of current shell
$! pid of last background job
$? exit status of last command
```

- why background?  
   we will get our command prompt back. Command runs in background.

## Exit status

- C Programs and shell scripts have alot in common both use the same command to terminat a program.
- It has the name exit in the shell and exit fn in C

## Logical operators

- && ||
- cmd1 && cmd2 -> cmd2 runs only if cmd1 is successful
- cmd1 || cmd2 -> both stmts will execute.
